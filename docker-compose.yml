services:
  backend:
    build:
      context: ./backend
    container_name: facturas_backend
    environment:
      - DB_HOST=host.docker.internal
      - DB_PORT=5433
      - DB_NAME=${DB_NAME:-Facturas}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD}
      - ENVIRONMENT=production
    ports:
      - "8002:8000"
    volumes:
      - F:/1. Cloud/4. AI/1. Antigravity/Facturas:/app/data
    extra_hosts:
      - "host.docker.internal:host-gateway"

  frontend:
    build:
      context: ./frontend
    container_name: facturas_frontend
    ports:
      - "5174:80"
    depends_on:
      - backend
